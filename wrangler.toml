name = "claudemix"
compatibility_flags = ["nodejs_compat"]
compatibility_date = "2024-09-23"

# Pages Functions configuration
pages_build_output_dir = "./build/client"

# Local development configuration
# These bindings are used when running "npm run dev:wrangler"
[[d1_databases]]
binding = "DB"
database_name = "claudemix-dev"
database_id = "local-dev-db"

[[kv_namespaces]]
binding = "SESSION_KV"
id = "local-dev-kv"

# Production environment configuration
[[env.production.d1_databases]]
binding = "DB"
database_name = "claudemix-prod"
database_id = "f9a19560-ec16-4eb5-9d7c-a76dd1887640"

[[env.production.kv_namespaces]]
binding = "SESSION_KV"
id = "228032d075f6418e9c8a770c3cf1180b"

# Preview environment configuration (for all non-main branches)
# SETUP REQUIRED: Create preview database and KV namespace
# See docs/setup/preview-environment.md for instructions
[[env.preview.d1_databases]]
binding = "DB"
database_name = "claudemix-preview"
database_id = "PREVIEW_DB_ID_HERE"  # TODO: Replace with actual preview database ID

[[env.preview.kv_namespaces]]
binding = "SESSION_KV"
id = "PREVIEW_KV_ID_HERE"  # TODO: Replace with actual preview KV namespace ID

