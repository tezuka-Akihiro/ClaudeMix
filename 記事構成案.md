# ブログ記事企画・作成

ブログ記事を作成する。
作業記録と記事構成案とスキルが用意されているので、それらに従って記事を作成する。

## ClaudeMix 防衛戦記：全5記事構成案

| 回 | タイトル | 事象（どんなバグがあり） | 現実的処置（どう対処して） | 教訓・思想（何を学んだのか） |
| :--- | :--- | :--- | :--- | :--- |
| 1 | コードは正しいのに遷移しない「幽霊バグ」 | コードは正しいのに遷移しない | PC再起動で環境の澱をリセットした | AIには見えない「OS・キャッシュ」という不自然な敵を知る |
| 2 | 10秒待っても消えない「消滅拒否メッセージ」 | 10秒待っても消えない | コンポーネントにKeyを付与し再マウントを阻止 | 魔法（AI生成）を疑い、ハイドレーションの構造を正す |
| 3 | Tabキーをすり抜ける「Modalの穴」 | Tabキーをすり抜ける | 100msの待機ではなく状態の明示的待機を実装 | 時間のズレ（非同期）を根性論ではなく構造で制御する |
| 4 | 終わらない推論と溶けていくトークン | 終わらない推論 | AIへの指示に**「環境リセット」のメタ思考**を増築 | AIの暴走（悪）を止めるのは、建築家としての「制約」である |
| 5 | テストを書くほど膨らむ開発コスト | テストを書くほど膨らむ開発コスト | **階層的テスト（E2E/Unit/Lint）**を戦略的に配分 | 長期生存の経済合理性は、製品ではなく「土台」への投資にある |

## 作業資料

不具合調査レポート_account_subscription_404_issue.md
不具合調査レポート_flashmessage_autodismiss_failure.md
不具合調査レポート_modal_focus_trap_failure.md
不具合調査レポート_navigation_test_failure.md

## 以降の作業

全5記事構成案に従って、記事を作成。

### 記事作成手順

1 記事プランの作成
.claude\skills\blog-planner.md
オペレータが確認

2 記事作成
.claude\skills\blog-writer.md
オペレータが確認

## 記事作成の上で押したい内容

### 階層的テストの概念

#### 詳細

リント、ユニットテスト、E2Eテスト、探索型テストで扱うバグは違う。各階層で必要な網羅を設計する必要がある。

#### 理由

非技術者は当然ながら、ベテラン技術者でも、階層的テストの重要性を理解していない人が多い。
理解していても多くの人は口で反わかってるといっても実行できてない。

#### 背景

テストは最早もう一つのプロダクトレベルでコストがかかる。
ユニットテストでコストは二倍、E2Eテストで三倍。
経営リソースは製品しか認めないというITプロダクトに対する未熟さ。
頭ではわかるが必要だと思わないという構造。
長期間一つのプロダクトの面倒を見ないと見えてこない経済合理性。

### AIへのE2Eデバックの実行と指示の出し方

#### 開発環境をテストの度に毎回停止させる

毎回起動するもポートが合わず、原因究明のトークン浪費

#### PC再起動を明確に指示

テスト環境のリフレッシュの問題で既存のコード、ミドルウェアの設定、他ユーザが想像もしていない内容をAIは原因の可能性として考えてしまう。恐ろしいほどの原因究明、再実行のトークン浪費につながる

#### 回避方法

claude codeへのスキル、プロジェクト設定でE2Eテストのデバックで再起動プロセスを明示。
