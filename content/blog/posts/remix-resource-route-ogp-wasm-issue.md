---
slug: "remix-resource-route-ogp-wasm-issue"
title: "Remixã®Resource Routeã§OGPç”»åƒã‚’ç”Ÿæˆã™ã‚‹éš›ã«ãƒãƒã£ãŸWASMå•é¡Œã¨ãã®è§£æ±ºæ³•"
description: "Remixã§OGPç”»åƒç”Ÿæˆã‚’å®Ÿè£…ã—ãŸã‚‰ãƒ­ãƒ¼ã‚«ãƒ«ã¯å‹•ãã®ã«Cloudflare Workersã§ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ã€‚workers-ogã®WASMèª­ã¿è¾¼ã¿ãŒåŸå› ã§ç™ºç”Ÿã—ãŸã€ŒCould not resolveã€ã‚¨ãƒ©ãƒ¼ã‚’ã€vite.config.tsã®ssr.externalè¨­å®šã§è§£æ±ºã—ãŸå…¨ãƒ—ãƒ­ã‚»ã‚¹ã‚’è¨˜éŒ²ã—ã¾ã™ã€‚"
author: "ClaudeMix Team"
publishedAt: "2025-12-16"
category: "Claude Best Practices"
tags: ["Workers", "troubleshooting", "Vite"]
---

Remixã§OGPç”»åƒç”Ÿæˆã‚’å®Ÿè£…ã—ã‚ˆã†ã¨ã—ã¦ã€`workers-og`ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ãŸã€‚
ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒï¼ˆ`npm run dev`ï¼‰ã§ã¯å®Œç’§ã«å‹•ä½œã—ã¦ã„ãŸã®ã§ã€æœ¬ç•ªãƒ“ãƒ«ãƒ‰ã‚‚å•é¡Œãªã„ã ã‚ã†ã¨æ€ã£ã¦ã„ã¾ã—ãŸã€‚
ã—ã‹ã—ã€Wranglerï¼ˆCloudflare Workersç’°å¢ƒï¼‰ã§ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨ã€`Could not resolve "workers-og"`ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã€å‹•ã‹ãªããªã£ã¦ã—ã¾ã„ã¾ã—ãŸã€‚

## ã“ã®è¨˜äº‹ã‚’ãŠå‹§ã‚ã—ãªã„äºº

ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã¨æœ¬ç•ªç’°å¢ƒã§å‹•ä½œãŒç•°ãªã‚‹ã“ã¨ã‚’ã€å½“ç„¶ã®ã“ã¨ã¨ã—ã¦å—ã‘å…¥ã‚Œã‚‰ã‚Œã‚‹äººã€‚
ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’èª­ã¾ãšã«ã€Stack Overflowã§è§£æ±ºç­–ã‚’æ¢ã—ç¶šã‘ã‚‹ã“ã¨ã«æ™‚é–“ã‚’ä½¿ãˆã‚‹äººã€‚
Viteã®`ssr.external`è¨­å®šã®æ„å‘³ã‚’ç†è§£ã™ã‚‹å¿…è¦æ€§ã‚’ã€å…¨ãæ„Ÿã˜ã¦ã„ãªã„äººã€‚

ã‚‚ã—ä¸€ã¤ã§ã‚‚å½“ã¦ã¯ã¾ã‚‰ãªã„ãªã‚‰ã€èª­ã¿é€²ã‚ã‚‹ä¾¡å€¤ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

## è¡Œå‹•ã—ãªã„ãƒªã‚¹ã‚¯

ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ã‚’æ”¾ç½®ã™ã‚‹ã“ã¨ã§ã€ã‚ãªãŸã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ã€Œé–‹ç™ºç’°å¢ƒã¨æœ¬ç•ªç’°å¢ƒã®å·®ç•°ã€ã¨ã„ã†è¦‹ãˆãªã„æŠ€è¡“çš„è² å‚µãŒé™ã‹ã«è“„ç©ã•ã‚Œã¦ã„ãã¾ã™ã€‚
ã‚„ãŒã¦ã€ãƒ‡ãƒ—ãƒ­ã‚¤ç›´å‰ã«ãªã£ã¦ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ã«æ°—ã¥ãã€ãƒªãƒªãƒ¼ã‚¹ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒå¤§å¹…ã«é…ã‚Œã‚‹äº‹æ…‹ãŒç™ºç”Ÿã—ã¾ã™ã€‚
ã¤ã„ã«ã€ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã‹ã‚‰ã®ä¿¡é ¼ã‚’å¤±ã„ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ç‚ä¸Šã—ã€ã‚ãªãŸã¯ã€Œãªãœãƒ­ãƒ¼ã‚«ãƒ«ã§å‹•ã„ã¦ã„ãŸã®ã«ã€ã¨å¾Œæ‚”ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚

## ã“ã®è¨˜äº‹ã‚’èª­ã‚ã°å¾—ã‚‰ã‚Œã‚‹æœªæ¥

ã“ã®è¨˜äº‹ã‚’èª­ã‚ã°ã€Viteã®`ssr.external`è¨­å®šã‚’ä½¿ã£ã¦Cloudflare Workerså°‚ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ã‚’è§£æ±ºã™ã‚‹çŸ¥è­˜ãŒæ‰‹ã«å…¥ã‚Šã¾ã™ã€‚
å…·ä½“çš„ã«ã¯ã€`workers-og`ã®WASMèª­ã¿è¾¼ã¿å•é¡Œã‚’ã€vite.config.tsã®1è¡Œã§è§£æ±ºã™ã‚‹è¨­è¨ˆå›³ã‚’æ‰‹ã«å…¥ã‚Œã‚‰ã‚Œã¾ã™ã€‚
ã“ã®æ–¹æ³•ã¯ã€æœºä¸Šã®ç©ºè«–ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã¾ã•ã«ã“ã®ãƒ–ãƒ­ã‚°ã®OGPç”»åƒç”Ÿæˆã§å®Ÿè¨¼æ¸ˆã¿ã§ã™ã€‚
ã“ã®æƒ…å ±ã¯ã€å˜ãªã‚‹ã€Œã‚¨ãƒ©ãƒ¼ã‚’æ¶ˆã™ã€ã¨ã„ã†å¯¾å‡¦ç™‚æ³•ã§ã¯ãªãã€Cloudflare Workersç’°å¢ƒã®WASMåˆ¶ç´„ã‚’ç†è§£ã—ãŸä¸Šã§ã®æ ¹æœ¬çš„ãªè§£æ±ºç­–ã¨ã„ã†ã€å®Ÿè·µã‹ã‚‰å¾—ã‚‰ã‚ŒãŸä¸€æ¬¡æƒ…å ±ã§ã™ã€‚

## ãªãœã“ã®è¨˜äº‹ãŒä¿¡é ¼ã§ãã‚‹ã®ã‹

ç­†è€…ã‚‚éå»ã«åŒã˜ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ã§æ‚©ã¿æŠœãã€ã“ã®ãƒ–ãƒ­ã‚°ã®OGPç”»åƒç”Ÿæˆã‚’ã€Œvite.config.tsã®é©åˆ‡ãªè¨­å®šã€ã§ä½œã‚Šä¸Šã’ã‚‹ã“ã¨ã§è§£æ±ºã—ã¾ã—ãŸã€‚
ã“ã®è¨˜äº‹ã§ã¯ã€ã‚ãªãŸã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ã‚’ç™ºè¦‹ã™ã‚‹åŸºæœ¬çš„ãªè€ƒãˆæ–¹ã¨ã€æ˜æ—¥ã‹ã‚‰è©¦ã›ã‚‹ssr.externalè¨­å®šã®ä½¿ã„æ–¹ã‚’æŒã¡å¸°ã‚Œã‚‹ã‚ˆã†ã«æ›¸ãã¾ã—ãŸã€‚
ã•ã‚‰ã«æ·±æ˜ã‚Šã—ã¦ã€Cloudflare Workersç’°å¢ƒã§ã®WASMåˆ¶ç´„ã®å…¨ä½“åƒã‚’çŸ¥ã‚ŠãŸã„æ–¹ã¯ã€ä»¥é™ã®è©³ç´°ãªå®Ÿè£…æ–¹æ³•ã‚’ç¢ºèªã§ãã¾ã™ã€‚

---

## ğŸ“ æ¦‚è¦

Remix Ã— Cloudflare Workersç’°å¢ƒã§OGPç”»åƒã‚’å‹•çš„ç”Ÿæˆã™ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ãŸéš›ã€ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã§ã¯æ­£å¸¸ã«å‹•ä½œã™ã‚‹ã®ã«ã€æœ¬ç•ªãƒ“ãƒ«ãƒ‰ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã¨ã„ã†å…¸å‹çš„ãªå•é¡Œã«é­é‡ã—ã¾ã—ãŸã€‚

ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ä¸€è¦‹è¤‡é›‘ã§ã—ãŸãŒã€åŸå› ã¯ã‚·ãƒ³ãƒ—ãƒ«ã§ã€è§£æ±ºç­–ã‚‚æ˜å¿«ã§ã—ãŸã€‚ã“ã®è¨˜äº‹ã§ã¯ã€ã‚¨ãƒ©ãƒ¼ã®ç™ºè¦‹ã‹ã‚‰åŸå› ç‰¹å®šã€ãã—ã¦è§£æ±ºã«è‡³ã‚‹ã¾ã§ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’è©³ã—ãè¨˜éŒ²ã—ã¾ã™ã€‚

### ç™ºç”Ÿç’°å¢ƒ

- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Remix v2 + Vite
- **ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°**: Cloudflare Pages/Workers
- **ç”»åƒç”Ÿæˆ**: workers-og
- **é–‹ç™ºç’°å¢ƒ**: ãƒ­ãƒ¼ã‚«ãƒ«: âœ… å‹•ä½œã€æœ¬ç•ªãƒ“ãƒ«ãƒ‰: âŒ ã‚¨ãƒ©ãƒ¼

---

## âš ï¸ å•é¡Œã®ç™ºè¦‹ã¨ç—‡çŠ¶

### ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°

```bash
npm run dev:wrangler
```

ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’ Wranglerï¼ˆCloudflare Workers ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ï¼‰ã§èµ·å‹•ã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚

### ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

```text
X [ERROR] Could not resolve "workers-og"

    app/routes/ogp.$slug[.png].tsx:5:31:
      5 â”‚ import { ImageResponse } from 'workers-og';
        â•µ                                ~~~~~~~~~~~~

  The package "workers-og" wasn't found on the file system but is built into node.
  Add "workers-og" to the "external" option to exclude it from the bundle, which
  will remove this error and leave the unresolved path in the bundle.
```

ã•ã‚‰ã«è©³ç´°ãªã‚¨ãƒ©ãƒ¼ãŒç¶šãã¾ã™:

```text
X [ERROR] Could not load yoga-ZMNYPE6Z.wasm (imported by /__vite-browser-external:yoga-wasm-web):
    Reading from "yoga-wasm-web" is not handled by any plugin
```

### ç—‡çŠ¶ã®æ•´ç†

- âœ… `npm run dev`: æ­£å¸¸å‹•ä½œï¼ˆViteé–‹ç™ºã‚µãƒ¼ãƒãƒ¼ï¼‰
- âŒ `npm run dev:wrangler`: ã‚¨ãƒ©ãƒ¼ï¼ˆCloudflare Workersç’°å¢ƒï¼‰
- âŒ `npm run build`: ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼

**é‡è¦ãªæ°—ã¥ã:**

Viteã®é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã§ã¯å‹•ä½œã™ã‚‹ãŒã€Cloudflare Workersç’°å¢ƒå‘ã‘ã®ãƒ“ãƒ«ãƒ‰ã§ã¯å¤±æ•—ã™ã‚‹ã¨ã„ã†ç’°å¢ƒä¾å­˜ã®å•é¡Œã§ã—ãŸã€‚

---

## ğŸ” èª¿æŸ»ã¨è©¦è¡ŒéŒ¯èª¤ã®ãƒ—ãƒ­ã‚»ã‚¹

### ä»®èª¬1: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¼ã‚Œ

ã¾ãšã€`workers-og`ãŒæ­£ã—ãã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„ã®ã§ã¯ãªã„ã‹ã¨ç–‘ã„ã¾ã—ãŸã€‚

```bash
npm install workers-og
npm list workers-og
```

ã—ã‹ã—ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯æ­£ã—ãã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ãŠã‚Šã€`node_modules`ã«ã‚‚å­˜åœ¨ã—ã¦ã„ã¾ã—ãŸã€‚ã“ã®ä»®èª¬ã¯é–“é•ã„ã§ã—ãŸã€‚

### ä»®èª¬2: Viteã®è¨­å®šä¸è¶³

æ¬¡ã«ã€ViteãŒã“ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æ­£ã—ãè§£æ±ºã§ãã¦ã„ãªã„ã®ã§ã¯ãªã„ã‹ã¨è€ƒãˆã€`vite.config.ts`ã®`resolve.alias`ã‚’è¿½åŠ ã—ã¦ã¿ã¾ã—ãŸã€‚

```typescript
resolve: {
  alias: {
    'workers-og': 'workers-og/dist/index.js',
  },
}
```

ã—ã‹ã—ã€ä»Šåº¦ã¯åˆ¥ã®ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã€ã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚‚é–“é•ã„ã ã¨æ°—ã¥ãã¾ã—ãŸã€‚

### ä»®èª¬3: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä¸å¯§ã«èª­ã‚€

ã“ã“ã§ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚‚ã†ä¸€åº¦ä¸å¯§ã«èª­ã¿ç›´ã—ã¾ã—ãŸã€‚

> Add "workers-og" to the "external" option to exclude it from the bundle

ã“ã‚Œã¯ã€**Viteã«ãƒãƒ³ãƒ‰ãƒ«ã•ã›ãšã€Cloudflare Workersã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã«ä»»ã›ã‚‹**ã¨ã„ã†æ„å‘³ã§ã‚ã‚‹ã“ã¨ã«æ°—ã¥ãã¾ã—ãŸã€‚

---

## ğŸ’¡ æ ¹æœ¬åŸå› ã®ç‰¹å®š

èª¿æŸ»ã®çµæœã€ä»¥ä¸‹ã®å•é¡ŒãŒæ ¹æœ¬åŸå› ã§ã‚ã‚‹ã¨ç‰¹å®šã—ã¾ã—ãŸ:

### workers-ogã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

`workers-og`ã¯å†…éƒ¨ã§ä»¥ä¸‹ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™:

```text
workers-og
  â””â”€ satori (SVGç”Ÿæˆ)
      â””â”€ yoga-wasm-web (ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚¨ãƒ³ã‚¸ãƒ³)
          â””â”€ yoga.wasm (WebAssembly ãƒã‚¤ãƒŠãƒª)
```

**å•é¡Œã®æ ¸å¿ƒ:**

1. `yoga-wasm-web`ã¯WebAssembly (.wasm)ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å«ã‚€
2. Viteã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§WASMãƒ•ã‚¡ã‚¤ãƒ«ã‚’é€šå¸¸ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦ãƒãƒ³ãƒ‰ãƒ«ã—ã‚ˆã†ã¨ã™ã‚‹
3. ã—ã‹ã—ã€Cloudflare Workersã¯WASMã‚’ç‰¹æ®Šãªæ–¹æ³•ã§æ‰±ã†å¿…è¦ãŒã‚ã‚‹
4. Viteã®ãƒãƒ³ãƒ‰ãƒ«å‡¦ç†ã¨Cloudflare Workersã®WASMãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãŒç«¶åˆ

### ãªãœãƒ­ãƒ¼ã‚«ãƒ«ã§ã¯å‹•ãã®ã‹ï¼Ÿ

```bash
# Viteé–‹ç™ºã‚µãƒ¼ãƒãƒ¼ï¼ˆNode.jsç’°å¢ƒï¼‰
npm run dev  # âœ… Node.js ãŒ WASM ã‚’ç›´æ¥èª­ã¿è¾¼ã‚ã‚‹

# Wranglerï¼ˆWorkersç’°å¢ƒã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ï¼‰
npm run dev:wrangler  # âŒ Workersç‰¹æœ‰ã®åˆ¶ç´„ãŒã‚ã‚‹
```

Viteã®é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã¯Node.jsç’°å¢ƒã§å‹•ä½œã™ã‚‹ãŸã‚ã€WASMãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥èª­ã¿è¾¼ã‚ã¾ã™ã€‚ã—ã‹ã—ã€Cloudflare Workersç’°å¢ƒã§ã¯WASMã®èª­ã¿è¾¼ã¿æ–¹æ³•ãŒç•°ãªã‚‹ãŸã‚ã€åŒã˜ã‚³ãƒ¼ãƒ‰ãŒå‹•ä½œã—ã¾ã›ã‚“ã€‚

---

## ğŸ”§ è§£æ±ºç­–

### vite.config.tsã®ä¿®æ­£

ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ãƒ’ãƒ³ãƒˆã«å¾“ã„ã€`ssr.external`è¨­å®šã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚

[vite.config.ts:1](vite.config.ts#L1)

```diff
export default defineConfig({
  plugins: [
    remix({
      future: {
        v3_fetcherPersist: true,
        v3_relativeSplatPath: true,
        v3_throwAbortReason: true,
        v3_singleFetch: true,
        v3_lazyRouteDiscovery: true,
      },
    }),
    tsconfigPaths(),
  ],
  ssr: {
    resolve: {
      externalConditions: ["workerd", "worker"],
    },
+   external: ["workers-og"],
  },
});
```

### è¨­å®šã®æ„å‘³

**`ssr.external: ["workers-og"]`**

- Viteã«`workers-og`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒãƒ³ãƒ‰ãƒ«å¯¾è±¡ã‹ã‚‰é™¤å¤–ã™ã‚‹ã‚ˆã†æŒ‡ç¤º
- `workers-og`ã¯Cloudflare Workersã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãŒæä¾›ã™ã‚‹ã‚‚ã®ã¨ã—ã¦æ‰±ã†
- WASMãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ã¯Cloudflare Workersã«ä»»ã›ã‚‹

**`externalConditions: ["workerd", "worker"]`**

- Cloudflare Workersç’°å¢ƒï¼ˆworkerdï¼‰ç”¨ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è§£æ±ºæ¡ä»¶ã‚’æŒ‡å®š
- `workers-og`ãŒCloudflare Workersç”¨ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚’é¸æŠã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹

---

## ğŸ“ å­¦ã‚“ã ã“ã¨ãƒ»ã¾ã¨ã‚

### æŠ€è¡“çš„ãªå­¦ã³

1. **ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä¸å¯§ã«èª­ã‚€é‡è¦æ€§**
   - ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«è§£æ±ºç­–ãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹ã“ã¨ãŒå¤šã„
   - ç„¦ã‚‰ãšã€ä¸€èªä¸€å¥ç¢ºèªã™ã‚‹ã“ã¨ãŒå¤§åˆ‡

2. **é–‹ç™ºç’°å¢ƒã¨æœ¬ç•ªç’°å¢ƒã®é•ã„ã‚’ç†è§£ã™ã‚‹**
   - **Viteé–‹ç™ºã‚µãƒ¼ãƒãƒ¼**: Node.jsç’°å¢ƒã€æŸ”è»Ÿ
   - **Cloudflare Workers**: V8 Isolatesã€åˆ¶ç´„ã‚ã‚Š
   - ãƒ­ãƒ¼ã‚«ãƒ«ã§å‹•ã„ã¦ã‚‚æœ¬ç•ªã§å‹•ã‹ãªã„ã®ã¯ã€ç’°å¢ƒã®é•ã„ãŒåŸå› 

3. **ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å°‚ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ‰±ã„æ–¹**
   - Cloudflare Workerså°‚ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‹ã‚‰é™¤å¤–ã™ã‚‹ã®ãŒå®šçŸ³
   - `ssr.external`è¨­å®šã§ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã«ä»»ã›ã‚‹

4. **WASMã®æ‰±ã„ã¯ç’°å¢ƒä¾å­˜**
   - Cloudflare Workersã¯äº‹å‰ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ¸ˆã¿WASMã®ã¿ã‚µãƒãƒ¼ãƒˆ
   - å‹•çš„WASMç”Ÿæˆã¯ç¦æ­¢
   - ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãŒWASMã‚’é©åˆ‡ã«èª­ã¿è¾¼ã‚€ä»•çµ„ã¿ã‚’å£Šã•ãªã„

### ä»Šå¾Œã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

1. **ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯å®ã®å±±**
   - ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«è§£æ±ºç­–ãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’æ„è­˜ã™ã‚‹
   - Stack Overflowã«é£›ã¶å‰ã«ã€ã¾ãšã‚¨ãƒ©ãƒ¼ã‚’ä¸å¯§ã«èª­ã‚€

2. **æ®µéšçš„ãªãƒ‡ãƒãƒƒã‚°ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**
   - ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºï¼ˆViteï¼‰ã§å‹•ä½œç¢ºèª
   - Wranglerã§å‹•ä½œç¢ºèª
   - ãƒ“ãƒ«ãƒ‰ã§å‹•ä½œç¢ºèª
   - ãƒ‡ãƒ—ãƒ­ã‚¤ã§å‹•ä½œç¢ºèª
   - å„æ®µéšã§å•é¡Œã‚’åˆ‡ã‚Šåˆ†ã‘ã‚‹ã“ã¨ã§ã€åŸå› ç‰¹å®šãŒå®¹æ˜“ã«

3. **Cloudflare Workerså°‚ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ‘ã‚¿ãƒ¼ãƒ³**

   ```typescript
   // vite.config.ts ã®ãƒ‘ã‚¿ãƒ¼ãƒ³
   ssr: {
     external: [
       "workers-og",           // OGPç”»åƒç”Ÿæˆ
       "@cloudflare/ai",       // Cloudflare AI
       // ãã®ä»–ã®Workerså°‚ç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
     ],
   }
   ```

---

## ğŸ”— é–¢é€£ãƒªã‚½ãƒ¼ã‚¹

- [Vite - SSR External](https://vitejs.dev/config/ssr-options.html#ssr-external)
- [Cloudflare Workers - WebAssembly](https://developers.cloudflare.com/workers/runtime-apis/webassembly/)
- [workers-og GitHub](https://github.com/kvnang/workers-og)
- [Wrangler CLI](https://developers.cloudflare.com/workers/wrangler/)
- [Remix Ã— Cloudflare Workers ã§å®Ÿç¾ã™ã‚‹å‹•çš„OGPç”»åƒç”Ÿæˆ](./remix-cloudflare-workers-ogp-generation)
- [Cloudflare Workersã®WebAssemblyåˆ¶ç´„ã‚’ãƒ“ãƒ«ãƒ‰æ™‚HTMLå¤‰æ›ã§ä¹—ã‚Šè¶Šãˆã‚‹](./cloudflare-workers-shiki-build-time-html)
