---
slug: "cloudflare-pages-custom-domain-migration"
title: "名刺のURLを殺さずに、AI時代の自分拠点を構築する――Cloudflare Pages独自ドメイン移行の全記録"
description: "Cloudflare Pagesのデフォルトドメインから独自ドメイン（.dev）へ移行した全記録。名刺のURLを「301リダイレクト」で延命させる技術的設定と、なぜ最初から独自ドメインにすべきだったのかという後悔について解説します。"
author: "優作 / The Sound Edge"
publishedAt: "2026-01-29"
category: "ClaudeMix 記録"
tags: []
---

## はじめに：なぜ「満足」していたのに、わざわざドメインを買ったのか

「いつかやればいい」

独自ドメインについて、僕はそう思っていました。実際、Cloudflare Pagesが無料で発行してくれる `xxx.pages.dev` というURLは優秀です。SSLは標準装備、表示速度も爆速。個人開発のポートフォリオやブログとして使う分には、何の不満もありませんでした。

しかし、ある日、僕は年間約2,102円（月換算175円）を支払い、`claudemix.dev` という独自ドメインを取得しました。

きっかけは、画像ストレージ（Cloudflare R2）の導入を検討したことでした。単に画像を表示するだけでなく、「配信インフラ」として最適化するには、カスタムドメインの紐付けが有利だと知ったのです。そこで点と線がつながりました。

* **「プラットフォーム（.pages.dev）に依存し続けることは、AI時代の防衛拠点として構造的に不自然ではないか？」**

SEOの評価資産を他人の土地に積み上げ続けることは、長期的には「死」を待つことに等しい。そう直感した僕は、重い腰を上げて移行を決意しました。

しかし、そこには一つの大きな問題がありました。**すでに配ってしまった「名刺」です。**

本記事では、名刺に印刷された旧URLを殺さずに、技術的な「外科手術」で新ドメインへ移行した全記録を公開します。

## ドメインの選定：AI時代の生存戦略としての `.dev`

まず行ったのは、新しい住所となるドメインの取得です。今回は **Cloudflare Registrar** を使用しました。

* **選んだドメイン:** `claudemix.dev`
* **価格:** 年額 $12.18（約1,800円）

### なぜ `.com` ではなく `.dev` なのか？

`.com` ($10.46) の方がわずかに安かったのですが、あえて `.dev` を選びました。これは、AI時代において「技術的なバックグラウンドを持つ人間である」というブランド人格を明確にするためです。

また、Cloudflare Registrarを選んだ理由はシンプルです。**「卸値販売」**だからです。初年度だけ安くて2年目から跳ね上がるような「更新料の罠」がなく、長期的な運用コストが見通せる点が、システムの延命医としてのポリシーに合致しました。

## Pages本体への紐付け

取得したドメインを、稼働中のCloudflare Pagesプロジェクトに紐付けます。

1. Cloudflareのダッシュボードから対象のPagesプロジェクトを開く。
2. `Custom domains` タブを選択し、`Set up a custom domain` をクリック。
3. 取得した `claudemix.dev` を入力し、DNSレコードを自動設定させる。

この時点では、名刺に書かれた旧URL（`xxx.pages.dev`）と、新URL（`claudemix.dev`）の両方がアクセス可能な状態で併存しています。

## 旧URLの延命手術：Bulk Redirectsの設定

ここからが本題です。名刺のURLにアクセスした人を、迷子にさせず、自動的に新居へ案内しなければなりません。これにはCloudflareの **Bulk Redirects** 機能を使用しました。

これは、旧URLへのアクセスをサーバーレベルで検知し、瞬時に新URLへ転送する設定です。

### 具体的な設定値

* **Source URL (転送元):** `https://claudemix.pages.dev/`
* **Target URL (転送先):** `https://claudemix.dev/`
* **Status Code:** `301` (Moved Permanently)
  * ここが重要です。301は「恒久的な移動」を意味し、Googleなどの検索エンジンに「評価を新しいURLに引き継いでください」と伝える役割を果たします。

### 不自然さを排すための必須パラメータ

単にトップページへ飛ばすだけでは不十分です。ブログ記事の個別ページへのアクセスも正しく引き継ぐために、以下のオプションをONにしました。

* **Include subdomains:** OFF (今回は不要)
* **Subpath matching (サブパスの一致):** **ON**
  * これにより、全ページが対象になります。
* **Preserve path suffix (パス サフィックスを保持):** **ON**
  * `.../blog/article-1` へのアクセスを、新ドメインの `.../blog/article-1` へ正確に転送します。
* **Preserve query string (クエリ文字列を保存):** **ON**
  * 計測用パラメータなどが付与されていても、それを維持したまま転送します。

## リアルな後悔：名刺という「物理的負債」

設定は完了し、名刺のURLは死ぬことなく、新ドメインへの入り口として機能し始めました。技術的には完璧な解決です。

しかし、僕の心には小さな後悔が残りました。

* **「最初から独自ドメインで始めていれば、こんな外科手術は不要だった」**

技術で解決できたとはいえ、システム内部には「旧URL → 新ドメイン」というリダイレクト処理が残り続けます。これは構造的な「冗長性」です。最短経路で美しいシステムを作るなら、ドメイン取得は「後回しにするオプション」ではなく、**「最初の基礎工事」**であるべきでした。

## おわりに：魔法に頼らず、土地を買え

無料のドメイン（.pages.dev）は便利で強力な魔法ですが、所詮は「借り物の土地」です。

これからAI時代を生き抜くための拠点を築くなら、まずは自分の名前（独自ドメイン）を刻んでください。それが、結果として名刺を刷り直すような無駄を省き、最も安上がりで堅牢な「自分だけの城」を作る第一歩になります。
