---
slug: "prompts-guide"
title: "claude skill prompts 公式まとめ"
author: "ClaudeMix Team"
publishedAt: "2026-01-21"
category: "ガイド"
description: "Claude CodeのSkill作成におけるプロンプトエンジニアリングの公式ベストプラクティス。発見性を高めるメタデータ、思考を統制するXML構造、動的コンテキストの活用法など、AIの能力を最大限に引き出す実装テクニックを解説します。"
tags: ["Skills"]
---

## 1. プロンプトエンジニアリングの再定義

最新のClaude Codeにおいて、プロンプトは単なる「問いかけ」ではなく、**「Skill（技能）」の核となるロジック**です。
優れたプロンプトを `SKILL.md` という器に入れることで、Claudeはそれを自律的に発見し、実行可能な「武器」として扱います。

## 2. Skillを成功させる3つの記述階層

Claude 3.5 Sonnet / 3.7 Sonnet の能力を最大限に引き出すため、以下の階層でプロンプトを構造化します。

### ① 発見性の設計（Metadata & Description）

プロンプトがどれほど優秀でも、Claudeに「今これを使うべきだ」と判断されなければ意味がありません。

* **具体性**: 「コードを書く」ではなく「TypeScriptの関数を3層分離アーキテクチャに基づいてリファクタリングする」と記述します。
* **トリガーキーワード**: Claudeがユーザーの意図を汲み取れるよう、具体的なコンテキスト（例: "Remix", "Unit Test", "Edge Cases"）を `description` に含めます。

### ② 思考の統制（SKILL.md 本文）

AIに「製造ライン」としての規律を守らせるための技術です。

* **XMLタグによる構造化**: 指示、制約、入力を `<instructions>` や `<constraints>` タグで囲み、情報の境界を明確にします。
* **思考の連鎖 (CoT)**: 「回答の前に、まず現在のコードの構造を分析し、修正計画をステップバイステップで提示してください」と指示し、論理的な飛躍を防ぎます。

### ③ 動的コンテキスト（Dynamic Injection）

静的な指示ではなく、プロジェクトの「今」をプロンプトに注入します。

* **`!command` の活用**: `!git diff` や `!ls -R` をプロンプト内に埋め込み、最新の状況に基づいた推論を行わせます。
* **プログレッシブ開示**: 巨大なプロンプトは精度を下げるため、詳細な例示は `reference.md` に分離し、必要な時だけ読み込ませる構成にします。

---

## 3. 実装テクニック：Skill時代のベストプラクティス

### 明確性と直接性（原則）

主観的な言葉（「きれいに」「適切に」）を徹底的に排除し、エンジニアリングとして評価可能な基準を与えます。

* **悪い例**: 「テストを書いて」
* **良い例**: 「`vitest` を使用し、カバレッジ100%を目指して、正常系2ケース・異常系3ケースのテストコードを生成してください」。

### マルチショット例示（習熟）

1つの指示より、3つの「理想的な入出力例」の方が、AIの出力の振れ幅を最小限に抑えられます。

* 複雑なアーキテクチャ（Remixの3層分離など）を維持させる場合、必ず成功パターンのコード例を `SKILL.md` または `templates/` に含めます。

### レスポンス事前入力（誘導）

JSONや特定のフォーマットで出力させたい場合、出力の冒頭（`{ "result":` 等）を指定することで、不要な挨拶を省き、パースエラーを防ぎます。

---

## 4. Layer 1（公式準拠）への適用：ClaudeMix流

優作さんの戦略に基づき、これらの技術を以下のファイル構成で実戦投入します。

```text
.claude/skills/
├── logic-architect/
│   ├── SKILL.md        # XMLタグとCoTを駆使した、純粋関数の設計支援
│   └── reference.md    # 過去の優れた設計パターンの例示（マルチショット）
└── security-guard/
    ├── SKILL.md        # 認証・認可の不備を指摘する「用心棒」
    └── scripts/        # 依存関係をチェックする動的コマンド

```

### 運用の鍵

* **`/clear` の徹底**: 会話が長くなり、AIの「製造ライン」にノイズが混じり始めたら、迷わずコンテキストをリセットします。
* **計画優先**: コーディングを許可する前に、必ず `<plan>` タグ内で計画を立てさせ、承認した後に実装へ移行させます。

---
