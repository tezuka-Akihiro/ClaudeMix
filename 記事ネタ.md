1. なぜ「自前」ではなく「ライブラリ（Remix Auth）」を選んだのか
背景：車輪の再発明を避け、ビジネスロジックに集中したかった

「認証はコモディティである」という誤解: 認証は今や「できて当たり前」の機能であり、そこに工数をかけるのは「最大の努力で最小の結果」に反すると判断したため。

セキュリティの外部委託: OAuthのState検証やセッションの隠蔽化など、自前で書くと脆弱性を生みやすい部分を、実績のあるライブラリに「正解」を求めた。

「枯れた技術」への期待: Remix Authはv3まで進化しており、コミュニティの知見が蓄積されている「安定した防衛拠点」に見えた。

2. なぜ「最新のライブラリ（Auth.js等）」を使用しなかったのか
理由：変化の激しすぎる技術への「不信感」と「構造の不自然さ」

Next.js依存の影: Auth.js (旧 NextAuth) などは、Next.jsの独自仕様に深く依存しており、Web標準（Remix/Cloudflare）との親和性が未知数だった。

「延命」への懸念: 頻繁に大規模な破壊的変更（v4からv5など）を行うライブラリは、長期運用を前提とする「防衛拠点」には不向きであると判断。

ブラックボックスの重さ: 最新の多機能ライブラリは、エッジ環境で動かすには依存関係が重すぎ、中身が複雑すぎて「見えないエラー」を誘発するリスクを感じた。

3. 今回の「失敗」から再定義された選定基準
知見：エッジ（Edge Runtime）という物理法則が、過去の最適解を破壊した

ライブラリの「嘘」が暴かれた: 従来のライブラリは「Node.js（サーバー）」を前提としていた。しかし、Cloudflare Workersという「エッジ」に持ち込んだ瞬間、その設計思想（CJS/依存関係の多さ）が「不自然な構造」として牙を剥いた。

本当の「枯れた技術」とは何か: ライブラリのバージョンではなく、**HTTP/Web標準という「不変のプロトコル」**こそが、最も枯れていて、最も長生きする技術であると確信した。

記事の骨子案（仮）
タイトル案：ライブラリを捨ててWeb標準へ回帰する —— Cloudflare Workersで「10年死なない」認証基盤を築くための外科的切断

導入: なぜ「楽」をするために選んだライブラリが、開発を殺しかけたのか。

選定の背景: セキュリティを外部に預けたかった「合理的な理由」と、流行を追わなかった「防衛的判断」。

地獄の数時間: エッジ環境特有の挙動（isSessionエラー）と、AIエージェントが陥った「増築の罠」。

外科的切断: 51ファイルの修正を捨て、ブランチを削除した「延命医」の決断。

結論: Web標準（Request/Response）こそが、エッジ時代における唯一の信頼できる基盤である。
