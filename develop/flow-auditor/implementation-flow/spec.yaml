# flow-auditor - implementation-flow - 外部変数仕様書

# API仕様
api:
  endpoints:
    - name: getImplementationFlowTestScriptPairs
      method: GET
      path: /flow-auditor/implementation-flow
      description: file-list.mdで定義されたファイルの存在状態を取得する（loader経由）

# データ型定義
types:
  ImplementationFlowLoaderData:
    groups: ComponentGroup[] # アーキテクチャ層ごとのグループ配列

  ComponentGroup:
    name: string # グループ名（例: "app/components", "app/lib"）
    path: string # ディレクトリパス
    testScriptPairs: TestScriptPair[] # test-scriptペア配列

  TestScriptPair:
    testFile: FileInfo # テストファイル情報
    scriptFile: FileInfo # 実装ファイル情報

  FileInfo:
    name: string # ファイル名（例: "CheckpointItem.test.tsx"）
    path: string # フルパス
    exists: boolean # ファイルが存在するか（true: 存在, false: 未作成）

# バリデーションルール
validation:
  serviceName:
    required: true
    type: string
    # project.tomlに登録済みのサービス名のみ許可

# 定数
constants:
  FILE_CHECK_TIMEOUT_MS: 300 # ファイル存在確認のタイムアウト（ms）
  FILE_LIST_PATH: "develop/{service}/{section}/file-list.md" # 監査対象の定義ファイル

# メッセージテキスト
messages:
  success:
    path_copied: "パスをコピーしました: {path}"
    all_files_exist: "計画されたファイルはすべて存在します。"

  error:
    load_failed: "ファイル情報の取得に失敗しました。再試行してください。"
    invalid_service: "無効なサービス名が指定されました"
    copy_failed: "パスのコピーに失敗しました"
    file_list_not_found: "定義ファイル(file-list.md)が見つかりません。"

  warning:
    file_missing: "⚠️ 未作成のファイルがあります。"

  info:
    progress_status: "実装状況: {created}/{total} ({percentage}%)"
