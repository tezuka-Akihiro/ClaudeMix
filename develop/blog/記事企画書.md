# 記事企画書テンプレート

この企画書はAIがブログを書くときに、人間と共同して進めるための資料です。
この企画書をルート直下にコピー「ファイル名は 記事企画書.md」して、以下の項目を埋めてください。
各項目には記入例としてすでに実際に使用した内容が残されているので参考にしてください。
完成したら、オペレータに許可を取ってから記事作成を行ってください。
決めかねる部分があれば、3項目以内で選択肢3つ以下の粒度でオペレータに選択させてください。

## ブログコンセプト[必読]

「develop\blog\プロダクト設計書：Remix × Cloudflare Edge Blog.md」

## 何をするために（Why）

ブログの表示速度を極限まで高めるため。ユーザーリクエスト時のサーバー負荷をゼロにし、TTFB（Time To First Byte）を最小化することで、圧倒的なパフォーマンスを実現する。これはJamstackアーキテクチャのベストプラクティスに沿ったアプローチである。

## 何をしたか（What）

リクエストごとにMarkdownをHTMLへ変換する動的な処理を廃止し、ビルド時にすべての変換処理を完了させる「プレビルドシステム」を設計・実装した。
具体的には、ビルドスクリプトが全Markdownファイルを読み込み、HTML変換、シンタックスハイライト、見出し抽出といった重い処理を実行。その結果を単一のTypeScriptファイル（データバンドル）として生成する。アプリケーションのランタイム（Remixのloader）は、この生成済みデータをインポートして即座に返すだけの責務に単純化した。

## どんな壁があって（Challenge）

1. **パフォーマンスの壁**: 従来の動的変換では、記事アクセスごとにCPU負荷が発生し、表示遅延の原因となっていた。
2. **設計上の壁**: 生成物（HTML）をGit管理に含めると、コンテンツの唯一の真実の源（Single Source of Truth）であるMarkdownファイルとの同期が崩れるリスクがあった。

## どう乗り越えたか（Solution）

1. **プレビルドの採用**: ビルドプロセスで重い処理をすべて終わらせることで、ランタイムの負荷をゼロにした。
2. **SSoTの徹底**: 生成物（データバンドル）はGit管理から除外し、ビルド時に必ず自動生成する仕組みを構築。これにより、変換忘れなどのヒューマンエラーを防ぎ、常に最新のコンテンツがデプロイされることを保証した。記事数増加によるビルド時間増大というトレードオフは、信頼性と自動化のメリットを優先し受容した。

## 使用するテンプレート

`content\blog\template.md`
理由：特定のトラブルシューティングではなく、アーキテクチャ設計と思想を体系的に解説する内容のため、汎用テンプレートが最適。

## カテゴリ

app\specs\blog\posts-spec.yaml で許可されているもののみ使用可
`Architecture & Design`

## タグ

app\specs\blog\posts-spec.yaml で許可されているもののみ使用可
`architecture`, `performance`, `Vite`

## 連載検討

なし。この記事単体で完結する。
