# プロダクト設計書：Remix × Cloudflare Edge Blog

## 1. プロダクトの定義と目的

### 1.1. コンセプト

> **AIエージェントによる100%コーディング**を前提とした、**「技術負債を構造的に排除する、Web標準準拠の堅牢な開発基盤」**の実証。

Remixの構造的合理性を利用し、非機能要件（パフォーマンス・セキュリティ）の品質が、意識せずとも設計に取り込まれやすいフレームワーク哲学を土台とする。これは、Next.js（ブラックボックスな魔法）へのアンチテーゼとして、Web本来の仕組み（HTTP/HTML）と最先端のインフラ（Edge）を組み合わせた、「理にかなった速さ」を追求する技術基盤である。

### 1.2. 目的 (KGI)

- **最大目的**: **月間利益10万円の達成**（サブスクリプション収入）。
- **到達目標**: 有料会員200〜333人の獲得（購入率1%で月間2万〜3.3万PVを目標）。
- **手段**: 確実なユーザー体験（速さと快適さ）を保証することで、「構造的な品質保証」という知識への対価を払ってもらう。

### 1.3. ターゲットユーザー (ペルソナ)

- **Primary** (課金層/技術者): AI（Claude）を使ってコーディングの生産性を上げたいが、コード品質や設計パターンに悩む中堅・若手エンジニア。

- **Secondary** (課金層/非技術者): **副業・起業を目指す非技術者（バイブコーダー）。**AI活用による個人開発で、技術的負債やWebの仕組みに不安を感じている層。この層の拡大を狙う。

- **Tertiary** (PV層): 最新のAI開発トレンド、Remix/Cloudflare Edgeに興味があるが、社内技術に縛られている会社員のエンジニア。（日々の仕事の鬱憤を晴らすために、理想の開発環境を追う層）

### 1.4. 裏目的：AI開発パートナーとしての進化

このブログは、人間のための技術情報発信基地であると同時に、**AIのための学習・成長プラットフォーム**でもある。

- **課題認識**:
  - 現在のAIモデルは広範な知識を持つが、「Remix × Cloudflare Edge」のような特定の技術スタックの組み合わせや、エッジケースにおける実践的な知見（`knowledge`）は不足している。AIの標準知識は、このような"組み合わせ"によって生まれる未知の領域に対応できない。

- **本プロジェクトの役割**:
  - このブログ開発は、単なるアプリケーション構築ではない。AIにとっての「未知の領域」を探求し、得られた知見を構造化されたナレッジとして蓄積するプロセスそのものである。

- **AIの成長と共進化**:
  - 蓄積されたナレッジ（コード、設計思想、エラー解決の記録）は、AIの再学習やファインチューニングの元データとなる。これにより、AIを「汎用アシスタント」から「特定のドメインに特化した専門家」へと成長させる。
  - 人間とAIが互いに知識を補完し合い、共に進化していく未来の開発スタイルを実証する。これもまた、このブログの重要な存在理由である。

---

## 2. 技術スタックと選定理由 (The "Why")

優作さんの「正しさ」を具現化する構成です。

| レイヤー | 技術選定 | 選定理由・アピールポイント |
| --------- | --------- | --- |
| Framework | Remix | Web標準準拠。Nested Routesによるデータ取得の最適化。 |
| Platform | Cloudflare Pages | エッジへのデプロイ。コールドスタート0msによるUX保証。 |
| Runtime | Cloudflare Workers | エッジでのSSR実行環境。世界中どこでも爆速。 |
| Database | Cloudflare D1 | エッジネイティブな分散型SQL(SQLite)。「分散データ」の実装証明。 |
| Content | MDX (Git管理) | コンテンツもコードとして管理。開発者体験(DX)への理解を示す。 |
| Styling | Tailwind CSS | CSSの転送量削減。あえてライブラリ依存度を下げる。 |

---

## 3. 機能要件 (MVP Scope)

「ブログとして最低限読める」機能に加え、**「技術力を誇示するための機能」**を優先して実装します。

### 3.1. 閲覧・基本機能 (Core)

- 記事一覧・詳細表示: MDXファイルからのレンダリング。
- カテゴリ・タグ分類: 記事のメタデータに基づく分類。

### 3.2. 技術アピール機能 (Differentiators)

ここが勝負所です。「なぜNext.jsのSSGではなく、RemixのSSRなのか」を証明します。

- **動的OGP生成 (Edge Functions)**:
  - 記事タイトルや動的数値を含んだOGP画像を、アクセスごとにWorkersで生成。
  - **意図**: 画像処理のような重い処理をエッジでさばける技術力の証明。
- **爆速ページ遷移 (Prefetching)**:
  - `<Link prefetch="intent">` を活用し、ホバーした瞬間に並列データフェッチ。
  - **意図**: SPAのような遷移速度と、SSRの堅牢性の両立。
- **HTTPヘッダー制御**:
  - `Cache-Control` ヘッダーを適切に設定し、ブラウザキャッシュとCDNキャッシュを使い分ける。
  - **意図**: Webの基礎（HTTP）への深い理解を示す。

---

## 4. 非機能要件 (Quality Assurance)

優作さんのボイラープレート開発方針「コーディング上の品質保証」を適用します。

- **Performance**: Lighthouse (PageSpeed Insights) でAll 100点。特にLCPとCLSは徹底排除。
- **Accessibility**: キーボード操作のみで回遊可能にする（セマンティックHTMLの徹底）。
- **SEO**: 正しい構造化データ（JSON-LD）の埋め込み。Googleに「構造」を正しく伝える。
- **Type Safety**: TypeScriptによる厳格な型定義。`any`禁止。

---

## 5. デザイン・UI方針

- **ミニマリズム**: コンテンツ（テキストとコード）を主役にする。
- **Dev-First**: コードブロックのシンタックスハイライトを見やすく美しく。
- **インタラクション**: クリックやホバーに対するフィードバックを即座に返す（micro-interaction）。

---

## 6. マイルストーンとネクストアクション

### Phase 1: 土台構築 (MVP)

- Remix + Cloudflare Pages のプロジェクト立ち上げ。
- MDXでの記事入稿・表示システムの構築。
- デプロイパイプラインの整備 (GitHub Actions)。

### Phase 2: D1連携とインタラクション

- Cloudflare D1のセットアップ。
- PVカウンター、いいね機能の実装 (Loader/Action)。
- 動的OGP生成の実装。

### Phase 3: コンテンツ拡充と発信

- 技術記事執筆（「Next.jsからRemixへ」「D1のハマりどころ」など）。
- ポートフォリオページの作成。
- X (Twitter) での公開・拡散。
