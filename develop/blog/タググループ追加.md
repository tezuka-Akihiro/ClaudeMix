# 【機能修正提案】ブログフィルタパネルのタググループ化によるUX向上

- **サービス**: `blog`
- **セクション**: `posts`
- **関連ドキュメント**:
  - `develop/blog/posts/spec.yaml`
  - `develop/blog/posts/uiux-spec.md`
  - `app/components/blog/posts/FilterPanel.tsx`

---

## 1. 提案概要

ブログ記事一覧のフィルタパネルにおいて、タグを主要技術グループ（Remix, Cloudflare, Claude Code）ごとに整理して表示し、サイト訪問者がブログの技術的な全体像を把握しやすくすることで、UXとコンテンツの発見性を向上させます。

## 2. 変更内容 (As-Is / To-Be)

### 現状 (As-Is)

- **UIの問題**: フィルタパネルのタグが、グループ分けされずに一列にごちゃ混ぜで表示されています。これにより、どのタグがどの技術領域に属するのかが分かりにくくなっています。
- **データ構造の問題**: `spec.yaml`では、タグのグループがコメントでしか表現されておらず、プログラムからUIを構造的に構築することができません。

```yaml
# spec.yaml の現状
tags:
  current:
    # Remix関連  <- コメントのためプログラムから解釈不可
    - name: "SSR"
      category: "technical"
    # ...
```

### 修正後 (To-Be)

- **UIの改善**: フィルタパネル内で、タグが「Remix」「Cloudflare」「Claude Code」「その他」のグループに分かれて表示されます。これにより、訪問者はこのブログがどの技術領域をカバーしているかを一目で理解できます。

**UI構想図:**
app\styles\blog\ワイヤーフレーム (1).jpg

```
[カテゴリーセレクタ]

[Remix]
[SSR][Vite][Vitest]...

[Cloudflare]
[Workers][Pages][KV][D1]...

[Claude Code]
[MCP][Skills][Prompts]...

[その他]
[troubleshooting][refactoring]...

[フィルタ適用ボタン]
```

- **データ構造の改善**: `spec.yaml`の各タグ定義に`group`プロパティを追加し、所属グループを明示的に管理します。これにより、UIは`spec.yaml`のデータに基づいて動的にグループ表示を構築できます。

```yaml
# spec.yaml の修正後
tags:
  current:
    - name: "SSR"
      category: "technical"
      group: "Remix" # <- groupプロパティを追加
      description: "Server-Side Rendering"
    # ...
```

## 3. 背景・目的

### 背景
現在のフィルタパネルでは、タグがアルファベット順などで無秩序に並んでおり、ユーザーが目的の技術を探しにくい状態です。また、このブログが持つ技術的な強みやカバー範囲（Remix, Cloudflare, Claude Code）が、UIから直感的に伝わりません。

### 目的
- **目的1: UXの向上**: タグを論理的なグループに分類することで、ユーザーの認知負荷を下げ、目的の技術タグを発見しやすくします。
- **目的2: 技術ブランディングの強化**: フィルタパネルを「技術マップ」として機能させ、このブログがどの技術領域に強みを持つかを視覚的にアピールします。
- **目的3: 保守性の向上**: タグのグループ情報を`spec.yaml`で一元管理し、UIの表示ロジックをデータ駆動にすることで、将来的なグループ変更や追加を容易にします。

## 4. 変更の妥当性 (Pros / Cons)

`@ArchitectureGuardian` の視点に基づき、この変更がプロジェクトの設計思想に合致するかを評価します。

**👍 Pros (利点)**
- **SSoTの強化**: UIの表示構造（タグのグループ分け）を`spec.yaml`という単一の情報源で制御でき、設計思想に合致します。
- **ユーザー体験の向上**: 目的のタグを探しやすくなり、ブログのコンテンツ全体像も把握しやすくなります。
- **コンポーネントの責務分離**: `FilterPanel`は`group`プロパティに従って表示するだけでよく、UIコンポーネントが「どのタグがどのグループか」という知識を持つ必要がなくなります。

**👎 Cons (懸念点)**
- **UI実装の変更**: `FilterPanel`コンポーネントがタグをグループ化してレンダリングするよう、ロジックの修正が必要になります。

**総合評価**:
ConsはUI実装の範囲内に収まり、限定的です。一方で、SSoTの原則を強化し、UXを大幅に向上させるという点で、この変更は**非常に妥当性が高い**と判断します。

## 5 設計フロー
以下の設計ドキュメントを上から順に確認し、編集内容を追記して。
「TAG_CATEGORY_SPEC.md（削除予定）」も移植して。

### 🗾GUIDING_PRINCIPLES.md
### 📚️func-spec.md
### 🖼️uiux-spec.md
### 📋️spec.yaml
### 🗂️file_list.md
### 🧬data-flow-diagram.md

## 6 TDD_WORK_FLOW.md 簡易版
以下の全項目に対して、実際のパスと編集内容を1行で記載して。
完全な計画ではなく、大枠がわかればよい。
特に、新規ファイルに関して把握したい。

### 👁️e2e-screen-test
### 👁️e2e-section-test
### 🎨CSS実装 (layer2.css, layer3.ts, layer4.ts)
### 🪨route
### 🚧components.test
### 🪨components
### 🚧logic.test
### 🪨logic
### 🚧data-io.test
### 🪨data-io
### その他