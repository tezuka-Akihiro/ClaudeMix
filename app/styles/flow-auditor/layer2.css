/* ========================================
 * 1. 画面共通 (Screen Common)
 * ======================================== */
.page-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: var(--z-index-fixed);
  background-color: var(--color-interactive-primary-bg-faint);
  border-bottom-width: var(--border-width-sm);
  border-bottom-style: solid;
  border-bottom-color: var(--color-interactive-primary);
  box-shadow: var(--offset-none) var(--offset-none) var(--spacing-3) var(--color-interactive-primary-bg);
  backdrop-filter: blur(var(--blur-glass-effect));
  -webkit-backdrop-filter: blur(var(--blur-glass-effect));
}

.page-footer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: var(--z-index-fixed);
  background-color: var(--color-interactive-primary-bg-faint);
  border-top-width: var(--border-width-sm);
  border-top-style: solid;
  border-top-color: var(--color-interactive-primary);
  box-shadow: var(--offset-none) var(--offset-none) var(--spacing-3) var(--color-interactive-primary-bg);
  backdrop-filter: blur(var(--blur-glass-effect));
  -webkit-backdrop-filter: blur(var(--blur-glass-effect));
}

.page-container {
  max-width: var(--layout-page-container-width);
  margin: 0 auto;
  padding: var(--layout-page-container-padding);
}

.page-header,
.page-footer {
  padding: var(--spacing-3);
}

/* ========================================
 * 2. セクション共通 (Section Common)
 * ======================================== */

.is-clickable {
  cursor: pointer;
}

.is-disabled {
  cursor: not-allowed;
}

.card-item,
.pair-container {
  width: var(--layout-card-width);
  min-height: var(--layout-card-min-height);
  border-width: var(--border-width-sm);
  border-style: solid;
  border-color: var(--color-interactive-primary);
  background-color: var(--color-interactive-primary-bg-faint);
  color: var(--color-interactive-primary);
  font-family: var(--font-stack-system-ui);
  font-size: var(--font-size-base);
  backdrop-filter: blur(var(--blur-glass-effect));
  -webkit-backdrop-filter: blur(var(--blur-glass-effect));
}

.card-item {
  scroll-margin-top: var(--layout-card-scroll-margin);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.card-item-wrapper {
  position: relative;
}

.card-item.completed,
.pair-container.completed {
  border-color: var(--color-status-success);
  box-shadow: var(--offset-none) var(--offset-none) var(--shadow-blur-lg) var(--color-status-success-glow);
  color: var(--color-status-success);
  background-color: var(--color-status-success-bg);
}

.card-item.pending,
.pair-container.pending {
  border-color: var(--color-status-error);
  box-shadow: var(--offset-none) var(--offset-none) var(--shadow-blur-lg) var(--color-status-error-glow);
  color: var(--color-status-error);
  background-color: var(--color-status-error-bg);
}

.card-item.selected,
.pair-container.selected {
  border-color: var(--color-interactive-selected);
  color: var(--color-interactive-selected);
  box-shadow: var(--offset-none) var(--offset-none) var(--shadow-blur-lg) var(--color-interactive-selected);
  background-color: var(--color-interactive-selected-bg);
}

.card-item:hover,
.pair-container:hover {
  box-shadow: var(--offset-none) var(--offset-none) var(--shadow-blur-lg) currentColor;
  background-color: var(--color-overlay-strong);
}

.button-primary {
  width: var(--layout-button-width-default);
  border-width: var(--border-width-sm);
  border-style: solid;
  border-color: var(--color-interactive-primary);
  background-color: var(--color-interactive-primary-bg-faint);
  color: var(--color-interactive-primary);
  box-shadow: var(--offset-none) var(--offset-none) var(--spacing-1) var(--color-interactive-primary-bg);
  backdrop-filter: blur(var(--blur-glass-effect));
  -webkit-backdrop-filter: blur(var(--blur-glass-effect));
}

.button-primary:disabled {
  background-color: var(--color-overlay-medium);
  border-color: var(--color-interactive-primary);
  color: var(--color-interactive-primary);
  box-shadow: var(--shadow-none);
  opacity: var(--opacity-disabled);
}

.button-primary:hover:not(:disabled) {
  background-color: var(--color-interactive-selected-bg);
  border-color: var(--color-interactive-selected);
  color: var(--color-interactive-selected);
}

.button-secondary {
  width: var(--layout-button-width-default);
  border-width: var(--border-width-sm);
  border-style: solid;
  border-color: var(--color-status-success);
  background-color: var(--color-status-success-bg);
  color: var(--color-status-success);
  box-shadow: var(--offset-none) var(--offset-none) var(--spacing-1) var(--color-status-success-glow);
  backdrop-filter: blur(var(--blur-glass-effect));
  -webkit-backdrop-filter: blur(var(--blur-glass-effect));
}

.button-secondary:disabled {
  background-color: var(--color-overlay-medium);
  border-color: var(--color-text-disabled);
  color: var(--color-text-disabled);
  box-shadow: var(--shadow-none);
  opacity: var(--opacity-disabled);
}

.select-label {
  color: var(--color-interactive-primary);
}

.select-input {
  border-color: var(--color-interactive-primary);
  background-color: var(--color-overlay-medium);
  color: var(--color-interactive-primary);
  font-family: var(--font-stack-system-ui);
}

.select-input:hover {
  border-color: var(--color-interactive-primary);
  color: var(--color-interactive-primary);
  background-color: var(--color-interactive-primary-bg);
}

.select-option {
  background-color: var(--color-surface-dark);
  color: var(--color-interactive-primary);
}

.select-option:hover {
  background-color: var(--color-interactive-primary-bg);
  color: var(--color-interactive-primary);
}

.error-box {
  background-color: var(--color-status-error-strong-bg);
  border-color: var(--color-status-error-strong);
  color: var(--color-status-error);
  padding: var(--spacing-3);
  text-align: center;
}

.last-updated-label {
  color: var(--color-status-success);
}

.branch-header,
.group-header {
  color: var(--color-interactive-primary);
}

/* ========================================
 * 3. セクション固有 (Section Specific)
 * ======================================== */

.design-flow-section {
  position: relative;
  min-width: var(--layout-section-width);
  padding: var(--layout-section-padding);
  margin: var(--layout-section-padding-compact);
}

.implementation-flow-section {
  padding: var(--layout-section-padding-compact);
}

.branched-flow-container {
  padding-bottom: var(--spacing-3);
}

.common-section-wrapper,
.branched-flow-wrapper {
  margin-top: var(--layout-section-spacing-vertical);
}

.flow-branch,
.common-section-container {
  position: relative;
  border-width: var(--border-width-sm);
  border-style: solid;
  border-color: var(--color-interactive-primary);
  background-color: var(--color-overlay-subtle);
  box-shadow: var(--offset-none) var(--offset-none) var(--spacing-3) var(--color-interactive-primary-bg-subtle);
  border-radius: 0;
  padding:calc(var(--spacing-1)/2)  var(--spacing-1) var(--spacing-1) var(--spacing-1);
  width: var(--layout-width-sm);
  max-height: var(--layout-width-md);
}

.test-script-pair {
  margin-top: var(--spacing-3);
  min-width: var(--layout-width-sm);
}

.pair-arrow {
  font-size: var(--font-size-lg);
  font-family: var(--font-stack-system-ui);
  color: var(--color-interactive-primary);
}

.unpaired-file-wrapper {
  margin-top: var(--spacing-3);
}

.card-item-flow-container {
  position: relative;
  width: fit-content;
  margin: 0 auto;
}

.card-item-group {
  width: fit-content;
  margin: 0 auto;
  padding: var(--spacing-3);
}

.design-flow-page-section {
  width: var(--layout-section-width);
}