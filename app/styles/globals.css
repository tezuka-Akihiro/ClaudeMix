@tailwind base;
@tailwind components;
@tailwind utilities;

*, *::before, *::after {
  box-sizing: border-box;
}

/* スムーススクロールをグローバルに無効化（E2Eテストの安定性と瞬時の遷移のため） */
html {
  scroll-behavior: auto;
}

:root {
  /* ========================================
   * Layer 1: Application Tokens
   * ========================================
   * このレイヤーは、アプリケーション全体（すべてのサービス）で
   * 共通使用される意味的な役割を持つトークンを定義します。
   * ======================================== */

  /* --- Background (背景) --- */
  --color-background-primary: #0C101B;
  --color-background-secondary: #161B22;
  --color-background-subtle: #333333;
  --color-background-muted: #666666;

  /* --- Text (テキスト) --- */
  --color-text-primary: #E6EDF3;
  --color-text-secondary: #7D8590;
  --color-text-muted: #7D8590;
  --color-text-disabled: #D4D4D4;

  /* --- Accent (アクセント) --- */
  --color-accent-gold: #FF00FF;
  --color-accent-action: #FF5733;

  /* --- Surface (サーフェス) --- */
  --color-surface-dark: #0a0a0a;
  --color-surface-dark-opaque: rgb(10 10 10 / 0.95);

  /* --- Interactive --- */
  --color-interactive-primary: #00F0FF;
  --color-interactive-primary-bg: rgb(0 240 255 / 0.3);
  --color-interactive-primary-bg-subtle: rgb(0 240 255 / 0.2);
  --color-interactive-primary-bg-faint: rgb(0 240 255 / 0.15);
  --color-interactive-primary-bg-opaque: #0B596A;
  --color-interactive-selected: #60a5fa;
  --color-interactive-selected-bg: rgb(96 165 250 / 0.2);

  /* --- Status (ステータス) --- */
  --color-status-success: #4ade80;
  --color-status-success-bg: rgb(74 222 128 / 0.15);
  --color-status-success-glow: rgb(74 222 128 / 0.5);

  --color-status-warning: #facc15;
  --color-status-warning-bg: rgb(250 204 21 / 0.15);
  --color-status-warning-glow: rgb(250 204 21 / 0.5);

  --color-status-error: #f87171;
  --color-status-error-bg: rgb(248 113 113 / 0.15);
  --color-status-error-glow: rgb(248 113 113 / 0.5);

  --color-status-error-strong: #ef4444;
  --color-status-error-strong-bg: rgb(239 68 68 / 0.15);
  --color-status-error-strong-glow: rgb(239 68 68 / 0.4);

  /* --- Overlay (オーバーレイ) --- */
  --color-overlay-strong: rgb(0 0 0 / 0.5);
  --color-overlay-medium: rgb(0 0 0 / 0.3);
  --color-overlay-subtle: rgb(0 0 0 / 0.15);

  /* --- Light Theme (ライトテーマ) --- */
  --color-background-light: #ffffff;
  --color-text-dark: #111111;
  --color-text-muted-dark: #6b7280;
  --color-border-light: #d1d5db;

  /* --- Spacing (間隔) --- */
  --spacing-1: 8px;
  --spacing-2: 12px;
  --spacing-3: 16px;
  --spacing-4: 24px;
  --spacing-5: 32px;
  --spacing-6: 48px;
  --spacing-7: 64px;

  /* インラインコード用の微細な間隔 */
  --spacing-inline-code-vertical: 0.125rem;
  --spacing-inline-code-horizontal: 0.25rem;

  /* ページ構造 */
  --layout-page-container-width: 800px;
  --layout-page-container-padding: 32px;

  /* ヘッダー/フッター */
  --layout-header-height: 80px;
  --layout-footer-height: 80px;

  /* セクション（「1サービスは複数セクションの縦連結」に対応） */
  --layout-section-width: 800px;
  --layout-section-spacing-vertical: 32px;
  --layout-section-padding: 32px;
  --layout-section-padding-compact: 16px;

  /* カードアイテム */
  --layout-card-width: 176px;
  --layout-card-min-height: 32px;
  --layout-card-scroll-margin: 80px;

  /* ボタン */
  --layout-button-width-default: 100px;


  /* --- Typography (タイポグラフィ) --- */
  --font-size-xs: 12px;
  --font-size-sm: 14px;
  --font-size-base: 16px;
  --font-size-lg: 18px;
  --font-size-xl: 20px;
  --font-size-2xl: 24px;
  --font-size-3xl: 32px;
  --font-stack-system-ui: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
  --font-heading-primary: 'Oswald';
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-bold: 700;
  --line-height-normal: 1.6;
  --text-line-clamp: 3;

  /* --- Border (ボーダー) --- */
  --border-width-sm: 1px;
  --border-radius-sm: 4px;
  --border-radius-md: 8px;
  --border-radius-lg: 14px;
  --border-radius-full: 9999px;

  /* --- Shadow (シャドウ) --- */
  --shadow-blur-xs: 5px;
  --shadow-blur-sm: 10px;
  --shadow-blur-lg: 20px;
  --shadow-offset-xs: 2px;
  --shadow-offset-sm: 4px;
  --shadow-offset-md: 6px;
  --shadow-none: none;

  /* --- Transition (トランジション) --- */
  --transition-duration-normal: 0.3s;
  --transition-duration-fast: 0.15s;
  --transition-timing-function-default: cubic-bezier(0.4, 0, 0.2, 1);

  /* --- Position (位置) --- */
  --position-center: 50%;
  --offset-none: 0;

  /* --- Z-Index (重ね順) --- */
  --z-index-fixed: 1;
  --z-index-menu: 2;
  --z-index-modal-overlay: 3;
  --z-index-modal: 5;

  /* --- Opacity (不透明度) --- */
  --opacity-disabled: 0.5;

  /* --- Outline (アウトライン) --- */
  --outline-width-default: 0.125rem;
  --outline-offset-default: 0.125rem;

  /* --- Effect (エフェクト) --- */
  --blur-glass-effect: 10px;

  /* --- Transform (変形) --- */
  --rotation-half-turn: 180deg;

  /* --- Touch Target (タッチターゲット) --- */
  --touch-target-min-height: 44px;

  /* --- Dropdown (ドロップダウン) --- */
  --dropdown-max-height: 320px;

  /* --- Table (テーブル) --- */
  --table-cell-min-width: 100px;
  --table-header-min-width: 120px;
  --table-first-column-min-width: 80px;

  /* ========================================
   * Surface Colors for Code Display (コード表示用サーフェス)
   * 追加日: 2025-11-17
   * ======================================== */

  /* --- Code Surface (コード表示サーフェス) --- */
  --color-surface-code: #2d2d2d;
  --color-surface-inline-code: #3a3a3a;
  --color-text-code-accent: #ff6b6b;
}

/* ========================================
 * Theme Support: Light Mode
 * ========================================
 * ライトモード用の配色定義
 * ======================================== */
html[data-theme="light"] {
  --color-background-primary: #ffffff;
  --color-background-secondary: #f9fafb;
  --color-background-subtle: #e5e7eb;
  --color-background-muted: #9ca3af;

  --color-text-primary: #111827;
  --color-text-secondary: #1f2937;
  --color-text-muted: #6b7280;
  --color-text-disabled: #9ca3af;

  --color-accent-gold: #92400e;

  --color-surface-dark: #f3f4f6;
  --color-surface-dark-opaque: rgb(243 244 246 / 0.95);

  /* Interactive colors */
  --color-interactive-primary: #155e75;
  --color-interactive-primary-bg: rgb(21 94 117 / 0.15);
  --color-interactive-primary-bg-subtle: rgb(21 94 117 / 0.1);
  --color-interactive-selected: #1e40af;
  --color-interactive-selected-bg: rgb(30 64 175 / 0.15);

  --color-status-success: #16a34a;
  --color-status-success-bg: rgb(22 163 74 / 0.1);
  --color-status-success-glow: rgb(22 163 74 / 0.3);

  --color-status-error: #dc2626;
  --color-status-error-bg: rgb(220 38 38 / 0.1);
  --color-status-error-glow: rgb(220 38 38 / 0.3);

  --color-status-error-strong: #b91c1c;
  --color-status-error-strong-bg: rgb(185 28 28 / 0.1);
  --color-status-error-strong-glow: rgb(185 28 28 / 0.2);

  --color-overlay-strong: rgb(0 0 0 / 0.3);
  --color-overlay-medium: rgb(0 0 0 / 0.15);
  --color-overlay-subtle: rgb(0 0 0 / 0.05);

  --color-surface-code: #f5f5f5;
  --color-surface-inline-code: #f3f4f6;
  --color-text-code-accent: #e53e3e;
}

/* ========================================
 * Application Base Styles
 * ======================================== */
@layer base {
  body {
    background-color: var(--color-background-primary);
    color: var(--color-text-primary);
    font-family: var(--font-stack-system-ui);
    line-height: var(--line-height-normal);
    letter-spacing: -0.01em;
    transition: all var(--transition-duration-normal) var(--transition-timing-function-default);
  }

  a {
    color: var(--color-accent-gold);
    text-decoration: none;
    transition: all var(--transition-duration-fast) var(--transition-timing-function-default);
    border-bottom: var(--border-width-sm) solid transparent;
  }

  a:hover {
    opacity: 0.8;
    border-bottom-color: var(--color-accent-gold);
  }
}
