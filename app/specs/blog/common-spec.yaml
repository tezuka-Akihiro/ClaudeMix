# spec.yaml - å¤–éƒ¨å¤‰æ•°ä»•æ§˜æ›¸
# å®Ÿè£…ãƒ»ãƒ†ã‚¹ãƒˆãƒ»ä»•æ§˜æ›¸ã§å…±é€šå‚ç…§ã™ã‚‹ãƒªãƒ†ãƒ©ãƒ«å€¤å®šç¾©

# ==========================================
# ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
# ==========================================
metadata:
  feature_name: "blog-common"
  slug: "common"
  created_date: "2025-11-14"
  last_updated: "2025-11-14"
  version: "1.0.0"

# ==========================================
# ã‚µãƒ¼ãƒãƒ¼å‡¦ç†è¨­å®š (Loader/Action)
# ==========================================
server_io:
  loader: {}
  action:
    # ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯actionã¯ä¸è¦ï¼ˆå…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯è¡¨ç¤ºã®ã¿ï¼‰
    intents: {}

# ==========================================
# ãƒ–ãƒ­ã‚°è¨­å®šå®šæ•°
# ==========================================
blog_config:
  title: "Primary Identity Rail"
  home_path: "/blog"
  site_url: "https://stg.claudemix.pages.dev"

# ==========================================
# ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¨­å®š
# ==========================================
navigation:
  # ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³
  menu_icon: "â˜°"

  menu_items:
    - label: "ãƒã‚¤ãƒšãƒ¼ã‚¸"
      path: "/account"
    - label: "ã¯ã˜ã‚ã¾ã—ã¦"
      path: "/blog/hazimemasite"
    - label: "ã‚«ãƒ†ã‚´ãƒªãƒ¼"
      path: "/blog/category"
    - label: "LINK"
      path: "/blog/link"

  # ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
  animation:
    fade_duration_ms: 200
    transition_timing: "ease-in-out"

# ==========================================
# ãƒ•ãƒƒã‚¿ãƒ¼è¨­å®š
# ==========================================
footer:
  # ãƒ•ãƒƒã‚¿ãƒ¼ã¯å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ç‹¬è‡ªã«å®Ÿè£…
  # commonå±¤ã§ã¯è¨­å®šãªã—
  {}

# ==========================================
# UIè¦ç´ ã‚»ãƒ¬ã‚¯ã‚¿
# ==========================================
ui_selectors:
  layout:
    blog_layout: "[data-testid='blog-layout']"
    main_content: "[data-testid='blog-main']"

  header:
    blog_header: "[data-testid='blog-header']"
    title_area: "[data-testid='title-area']"
    title_link: "[data-testid='blog-header-title']"
    header_actions: "[data-testid='header-actions']"
    theme_toggle_button: "[data-testid='theme-toggle-button']"
    menu_button: "[data-testid='blog-header-menu-button']"

  navigation:
    navigation_menu: "[data-testid='navigation-menu']"
    menu_item: "[data-testid='menu-item']"
    menu_overlay: "[data-testid='menu-overlay']"

  footer:
    blog_footer: "[data-testid='blog-footer']"
    copyright: "[data-testid='copyright']"

  legal_modal:
    modal_overlay: "[data-testid='legal-modal-overlay']"
    modal_dialog: "[role='dialog']"
    modal_title: "#legal-modal-title"
    close_button: "[data-testid='close-button']"

# ==========================================
# æ³•çš„è¡¨è¨˜è¨­å®š
# ==========================================
legal_modal:
  title: "ç‰¹å®šå•†å–å¼•æ³•ã«åŸºã¥ãè¡¨è¨˜"

# ==========================================
# ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–è¨­å®š
# ==========================================
responsive:
  menu_display_mode:
    mobile: "modal" # å…¨ç”»é¢ãƒ¢ãƒ¼ãƒ€ãƒ«å½¢å¼
    tablet: "dropdown" # ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³å½¢å¼
    desktop: "dropdown" # ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³å½¢å¼

# ==========================================
# ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ (ARIA)
# ==========================================
accessibility:
  aria_labels:
    menu_button: "ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ã"
    menu_button_open: "ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‰ã˜ã‚‹"
    navigation_menu: "ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼"
    close_menu: "ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‰ã˜ã‚‹"
    home_link: "ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹"
    theme_toggle_button: "ãƒ†ãƒ¼ãƒã‚’åˆ‡ã‚Šæ›¿ãˆ"
    theme_toggle_button_light: "ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆ"
    theme_toggle_button_dark: "ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆ"
    legal_modal_close: "é–‰ã˜ã‚‹"

  keyboard_shortcuts:
    close_menu: "Escape"

# ==========================================
# ãƒ†ãƒ¼ãƒè¨­å®š
# ==========================================
theme:
  # ãƒ†ãƒ¼ãƒã®ç¨®é¡
  modes:
    - "light"
    - "dark"

  # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ¼ãƒ
  default_mode: "dark"

  # localStorageè¨­å®š
  storage:
    key: "theme"

  # HTMLå±æ€§
  html_attribute:
    name: "data-theme"
    light_value: "light"
    dark_value: "dark"

  # ã‚·ã‚¹ãƒ†ãƒ è¨­å®šå‚ç…§
  media_query: "(prefers-color-scheme: dark)"

  # ã‚¢ã‚¤ã‚³ãƒ³è¡¨ç¤º
  icons:
    light: "â˜€ï¸"  # ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰æ™‚ã«è¡¨ç¤ºï¼ˆå¤ªé™½ã‚¢ã‚¤ã‚³ãƒ³ï¼‰
    dark: "ğŸŒ™"   # ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰æ™‚ã«è¡¨ç¤ºï¼ˆæœˆã‚¢ã‚¤ã‚³ãƒ³ï¼‰

# ==========================================
# R2ã‚¢ã‚»ãƒƒãƒˆè¨­å®š
# ==========================================
r2_assets:
  # R2ãƒã‚±ãƒƒãƒˆã®ãƒ™ãƒ¼ã‚¹URL
  base_url: "https://assets.claudemix.dev"
  # ãƒ–ãƒ­ã‚°ç”»åƒã®ãƒ‘ã‚¹ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹
  blog_path: "/blog"

  # ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒè¨­å®š
  thumbnail:
    filename: "thumbnail.avif"
    width: 1200
    height: 630
    aspect_ratio: "1200 / 630"  # CSS aspect-ratioç”¨
    format: "avif"
    max_size_kb: 100

  # è¨˜äº‹å†…ç”»åƒè¨­å®š
  article_images:
    pattern: "{n}.avif"  # 1.avif, 2.avif, ...
    max_count: 9
    max_size_kb: 200

  # ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼ˆCLSå¯¾ç­–ï¼‰
  performance:
    loading: "lazy"  # loadingå±æ€§
    decoding: "async"  # decodingå±æ€§

# ==========================================
# OGPç”»åƒç”Ÿæˆè¨­å®š
# ==========================================
ogp:
  # å…±é€šè¨­å®šã‚¢ãƒ³ã‚«ãƒ¼
  _layout: &_ogp_layout
    paddingX: "80px"
    paddingY: "60px"
    contentGap: "24px"

  _colors: &_ogp_colors
    background:
      gradientStart: "#0a0a0a"  # var(--color-surface-dark)
      gradientEnd: "#1a1a1a"    # var(--color-background-secondary)
      gradientAngle: "135deg"
    text:
      primary: "#22d3ee"        # var(--color-interactive-primary) - ã‚¿ã‚¤ãƒˆãƒ«
      description: "#d4d4d4"    # var(--color-text-secondary) - èª¬æ˜
      author: "#b9b6b6"         # var(--color-text-primary) - è‘—è€…

  image:
    width: 1200
    height: 630
    format: "png"

  # ã‚µãƒ ãƒã‚¤ãƒ«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨­å®šï¼ˆã‚¼ãƒ­è¨­å®šæ–¹å¼ï¼‰
  thumbnail_fallback:
    # R2ã«ã‚µãƒ ãƒã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚‹å ´åˆ: ãã®URLã‚’ç›´æ¥ä½¿ç”¨
    # R2ã«ã‚µãƒ ãƒã‚¤ãƒ«ãŒå­˜åœ¨ã—ãªã„å ´åˆ: å‹•çš„OGPç”»åƒã‚’ç”Ÿæˆ
    strategy: "r2_first"
    # ã‚µãƒ ãƒã‚¤ãƒ«URLç”Ÿæˆãƒ‘ã‚¿ãƒ¼ãƒ³: {base_url}{blog_path}/{slug}/{filename}
    url_pattern: "{base_url}{blog_path}/{slug}/thumbnail.avif"

  cache:
    maxAge: 31536000  # 1å¹´ (ç§’)
    directive: "public, max-age=31536000, immutable"

  # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆè¨­å®š
  layout:
    <<: *_ogp_layout

  # è‰²è¨­å®šï¼ˆã‚µã‚¤ãƒˆãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ã¨çµ±ä¸€ï¼‰
  colors:
    <<: *_ogp_colors

  # ãƒ†ã‚­ã‚¹ãƒˆè¨­å®š
  title:
    maxLength: 60
    fontSize: 48
    maxLines: 2
  description:
    maxLength: 120
    fontSize: 24
    maxLines: 3
  author:
    fontSize: 16
    prefix: "By "

  # ãƒ•ã‚©ãƒ³ãƒˆè¨­å®š
  font:
    name: "Noto Sans JP"  # workers-ogã«ç™»éŒ²ã™ã‚‹å˜ä¸€ãƒ•ã‚©ãƒ³ãƒˆå
    family: "'Noto Sans JP', 'Hiragino Sans', 'ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ ProN W3', 'ãƒ¡ã‚¤ãƒªã‚ª', Meiryo, sans-serif"

    # ãƒ•ã‚©ãƒ³ãƒˆå–å¾—è¨­å®šï¼ˆData-IOå±¤ã§ä½¿ç”¨ï¼‰
    fetch:
      apiUrl: "https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400&display=swap"
      userAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"
      cacheName: "ogp-fonts-v1"
      contentType: "font/ttf"
      cacheControl: "public, max-age=31536000, immutable"
      urlRegex: "url\\((https:\\/\\/[^)]+\\.ttf)\\)"
